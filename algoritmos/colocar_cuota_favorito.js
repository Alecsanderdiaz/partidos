let PARTIDOS_WPLAY = [
{"hora":11830,"liga":"ZA-EST1","local":"Atlanta United","visitante":"FC Cincinnati","cuotaLocal":2.1,"empate":3.6,"cuotaVisitante":3.25,"cantidadDeApuestas":148,"cuotaCualquiera":1.3,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11830,"liga":"ZA-EST1","local":"Charlotte FC","visitante":"Orlando City SC","cuotaLocal":2.5,"empate":3.55,"cuotaVisitante":2.625,"cantidadDeApuestas":147,"cuotaCualquiera":1.333,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11830,"liga":"ZA-EST1","local":"Inter Miami CF","visitante":"Nashville SC","cuotaLocal":2,"empate":3.7,"cuotaVisitante":3.5,"cantidadDeApuestas":148,"cuotaCualquiera":1.285,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11830,"liga":"ZA-EST1","local":"New England Revolution","visitante":"New York Red Bulls","cuotaLocal":1.5,"empate":4.5,"cuotaVisitante":5.5,"cantidadDeApuestas":145,"cuotaCualquiera":1.363,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11830,"liga":"ZA-EST1","local":"New York City","visitante":"CF Montreal","cuotaLocal":1.85,"empate":3.55,"cuotaVisitante":4.2,"cantidadDeApuestas":144,"cuotaCualquiera":1.363,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11830,"liga":"ZA-EST1","local":"Toronto FC","visitante":"Philadelphia Union","cuotaLocal":3.2,"empate":3.45,"cuotaVisitante":2.2,"cantidadDeApuestas":146,"cuotaCualquiera":1.3,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11930,"liga":"ZA-EST1","local":"Austin FC","visitante":"Seattle Sounders","cuotaLocal":1.95,"empate":3.6,"cuotaVisitante":3.75,"cantidadDeApuestas":146,"cuotaCualquiera":1.333,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11930,"liga":"ZA-EST1","local":"Chicago Fire","visitante":"Vancouver Whitecaps FC","cuotaLocal":2.1,"empate":3.6,"cuotaVisitante":3.25,"cantidadDeApuestas":148,"cuotaCualquiera":1.3,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11930,"liga":"ZA-EST1","local":"Minnesota United FC","visitante":"Colorado Rapids","cuotaLocal":1.65,"empate":3.9,"cuotaVisitante":5.25,"cantidadDeApuestas":144,"cuotaCualquiera":1.285,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11930,"liga":"ZA-EST1","local":"Houston Dynamo","visitante":"Columbus Crew","cuotaLocal":2.1,"empate":3.65,"cuotaVisitante":3.2,"cantidadDeApuestas":148,"cuotaCualquiera":1.3,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11930,"liga":"ZA-EST1","local":"Saint Louis FC","visitante":"FC Dallas","cuotaLocal":1.55,"empate":4.2,"cuotaVisitante":5.75,"cantidadDeApuestas":144,"cuotaCualquiera":1.35,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12130,"liga":"ZA-EST1","local":"Portland Timbers","visitante":"Real Salt Lake","cuotaLocal":2.3,"empate":3.55,"cuotaVisitante":2.9,"cantidadDeApuestas":148,"cuotaCualquiera":1.3,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12130,"liga":"ZA-EST1","local":"San Jose Earthquakes","visitante":"L.A. Galaxy","cuotaLocal":1.65,"empate":3.85,"cuotaVisitante":5.25,"cantidadDeApuestas":144,"cuotaCualquiera":1.3,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11130,"liga":"YE-POLE","local":"Pogon Szczecin","visitante":"Slask Wroclaw","cuotaLocal":1.7,"empate":3.55,"cuotaVisitante":5,"cantidadDeApuestas":88,"cuotaCualquiera":1.333,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11330,"liga":"ITA2","local":"Sampdoria","visitante":"Venezia","cuotaLocal":1.95,"empate":3.45,"cuotaVisitante":3.8,"cantidadDeApuestas":89,"cuotaCualquiera":1.4,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11330,"liga":"ITA2","local":"Bari","visitante":"Cittadella","cuotaLocal":2.25,"empate":3.1,"cuotaVisitante":3.25,"cantidadDeApuestas":88,"cuotaCualquiera":1.55,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11330,"liga":"ITA2","local":"Ternana","visitante":"Cremonese","cuotaLocal":3.2,"empate":3.2,"cuotaVisitante":2.25,"cantidadDeApuestas":88,"cuotaCualquiera":1.45,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11330,"liga":"ITA2","local":"Catanzaro","visitante":"Spezia","cuotaLocal":3.4,"empate":3.1,"cuotaVisitante":2.2,"cantidadDeApuestas":88,"cuotaCualquiera":1.45,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11700,"liga":"ZA-BRA2","local":"Novorizontino SP","visitante":"Ituano SP","cuotaLocal":1.666,"empate":3.45,"cuotaVisitante":5.75,"cantidadDeApuestas":86,"cuotaCualquiera":1.5,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12000,"liga":"ZA-MEX1","local":"Toluca","visitante":"Monterrey","cuotaLocal":2.55,"empate":3.5,"cuotaVisitante":2.625,"cantidadDeApuestas":147,"cuotaCualquiera":1.333,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12006,"liga":"ZA-MEX1","local":"Queretaro FC","visitante":"Atlas de Guadalajara","cuotaLocal":3,"empate":3.2,"cuotaVisitante":2.375,"cantidadDeApuestas":145,"cuotaCualquiera":1.45,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12200,"liga":"ZA-MEX1","local":"Tigres UANL","visitante":"Santos Laguna","cuotaLocal":1.6,"empate":4.2,"cuotaVisitante":5.25,"cantidadDeApuestas":144,"cuotaCualquiera":1.333,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11200,"liga":"ZA-ARGC","local":"Talleres de Cordoba","visitante":"Colon de Santa Fe","cuotaLocal":1.9,"empate":3.5,"cuotaVisitante":3.95,"cantidadDeApuestas":89,"cuotaCualquiera":1.45,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11415,"liga":"ZA-ARGC","local":"Argentinos Juniors","visitante":"San Martin de San Juan","cuotaLocal":1.7,"empate":3.6,"cuotaVisitante":5,"cantidadDeApuestas":87,"cuotaCualquiera":1.45,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11630,"liga":"ZA-ARGC","local":"San Lorenzo","visitante":"CA Belgrano","cuotaLocal":2.1,"empate":3.2,"cuotaVisitante":3.6,"cantidadDeApuestas":88,"cuotaCualquiera":1.55,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11815,"liga":"ZA-COL1","local":"Union Magdalena","visitante":"América de Cali","cuotaLocal":2.95,"empate":3.35,"cuotaVisitante":2.45,"cantidadDeApuestas":163,"cuotaCualquiera":1.444,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12030,"liga":"ZA-COL1","local":"Rionegro Aguilas","visitante":"Atlético Nacional","cuotaLocal":2.35,"empate":3.1,"cuotaVisitante":3.4,"cantidadDeApuestas":163,"cuotaCualquiera":1.48,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11500,"liga":"ZA-COL2","local":"Fortaleza FC","visitante":"Leones FC","cuotaLocal":1.533,"empate":3.85,"cuotaVisitante":5.5,"cantidadDeApuestas":42,"cuotaCualquiera":1.35,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11630,"liga":"ZA-ECU2","local":"Manta FC","visitante":"Macara","cuotaLocal":2.75,"empate":2.75,"cuotaVisitante":2.7,"cantidadDeApuestas":42,"cuotaCualquiera":1.615,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11900,"liga":"ZA-ECU2","local":"Buhos ULVR","visitante":"Club Nueve de Octubre","cuotaLocal":2.3,"empate":3,"cuotaVisitante":2.95,"cantidadDeApuestas":42,"cuotaCualquiera":1.48,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11900,"liga":"ZA-EST2","local":"Rio Grande Valley FC","visitante":"San Antonio","cuotaLocal":3.2,"empate":3.35,"cuotaVisitante":2.05,"cantidadDeApuestas":42,"cuotaCualquiera":1.38,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12000,"liga":"ZA-EST2","local":"New Mexico United","visitante":"Las Vegas Lights","cuotaLocal":1.85,"empate":3.5,"cuotaVisitante":3.6,"cantidadDeApuestas":42,"cuotaCualquiera":1.363,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12130,"liga":"ZA-EST2","local":"Phoenix Rising FC","visitante":"Sacramento Republic FC","cuotaLocal":2.15,"empate":3.35,"cuotaVisitante":3,"cantidadDeApuestas":42,"cuotaCualquiera":1.38,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11800,"liga":"ZA-MEX2","local":"CD Tepatitlan de Morelos","visitante":"Cancun FC","cuotaLocal":2,"empate":3.4,"cuotaVisitante":3.55,"cantidadDeApuestas":90,"cuotaCualquiera":1.42,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12005,"liga":"ZA-MEX2","local":"Coyotes FC","visitante":"Club Celaya","cuotaLocal":3.3,"empate":3.4,"cuotaVisitante":2.1,"cantidadDeApuestas":90,"cuotaCualquiera":1.42,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":12205,"liga":"ZA-MEX2","local":"Club Atletico La Paz","visitante":"Cimarrones de Sonora","cuotaLocal":2.1,"empate":3.65,"cuotaVisitante":3.1,"cantidadDeApuestas":91,"cuotaCualquiera":1.333,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11930,"liga":"ZA-LIBE","local":"Palmeiras SP","visitante":"Deportivo Pereira","cuotaLocal":1.222,"empate":7,"cuotaVisitante":13,"cantidadDeApuestas":188,"cuotaCualquiera":1.3,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11930,"liga":"ZA-LIBE","local":"Racing Club","visitante":"Boca Juniors","cuotaLocal":2.65,"empate":3.1,"cuotaVisitante":2.95,"cantidadDeApuestas":187,"cuotaCualquiera":1.571,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11700,"liga":"ZA-SUDA","local":"Defensa Y Justicia","visitante":"Botafogo RJ","cuotaLocal":2.375,"empate":3,"cuotaVisitante":3.25,"cantidadDeApuestas":189,"cuotaCualquiera":1.5,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":10530,"liga":"S-CHIF","local":"Dalian Pro","visitante":"Tianjin Jinmen Tiger","cuotaLocal":4.333,"empate":3.5,"cuotaVisitante":1.727,"cantidadDeApuestas":42,"cuotaCualquiera":1.4,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":10635,"liga":"S-CHIF","local":"Chongqing Tonglianglong","visitante":"Shanghai Shenhua","cuotaLocal":4.5,"empate":3.35,"cuotaVisitante":1.727,"cantidadDeApuestas":42,"cuotaCualquiera":1.48,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":10500,"liga":"S-JAPE","local":"Kashiwa Reysol","visitante":"Nagoya Grampus","cuotaLocal":3.2,"empate":3.2,"cuotaVisitante":2.15,"cantidadDeApuestas":77,"cuotaCualquiera":1.45,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":10500,"liga":"S-JAPE","local":"Avispa Fukuoka","visitante":"Shonan Bellmare","cuotaLocal":2.375,"empate":3.1,"cuotaVisitante":2.85,"cantidadDeApuestas":77,"cuotaCualquiera":1.48,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":10500,"liga":"S-JAPE","local":"Albirex Niigata","visitante":"Kawasaki Frontale","cuotaLocal":3.35,"empate":3.4,"cuotaVisitante":2,"cantidadDeApuestas":78,"cuotaCualquiera":1.4,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":10500,"liga":"S-JAPE","local":"Kumamoto","visitante":"Vissel Kobe","cuotaLocal":4.333,"empate":3.65,"cuotaVisitante":1.727,"cantidadDeApuestas":77,"cuotaCualquiera":1.363,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11400,"liga":"U-CHAM","local":"PSV Eindhoven","visitante":"Glasgow Rangers","cuotaLocal":1.5,"empate":4.333,"cuotaVisitante":6,"cantidadDeApuestas":194,"cuotaCualquiera":1.285,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11400,"liga":"U-CHAM","local":"AEK Athens","visitante":"Antwerp","cuotaLocal":1.75,"empate":3.65,"cuotaVisitante":4.75,"cantidadDeApuestas":116,"cuotaCualquiera":1.4,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11400,"liga":"U-CHAM","local":"FC Copenhagen","visitante":"Rakow Czestochowa","cuotaLocal":1.65,"empate":3.9,"cuotaVisitante":5.25,"cantidadDeApuestas":116,"cuotaCualquiera":1.38,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11345,"liga":"R-INGE","local":"Harrogate Town","visitante":"Blackburn Rovers","cuotaLocal":4.333,"empate":4,"cuotaVisitante":1.7,"cantidadDeApuestas":114,"cuotaCualquiera":1.3,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11345,"liga":"R-INGE","local":"Nottingham Forest","visitante":"Burnley","cuotaLocal":2.25,"empate":3.4,"cuotaVisitante":3,"cantidadDeApuestas":113,"cuotaCualquiera":1.38,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11345,"liga":"R-INGE","local":"Sheffield United","visitante":"Lincoln City","cuotaLocal":1.42,"empate":4.75,"cuotaVisitante":7,"cantidadDeApuestas":114,"cuotaCualquiera":1.3,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11345,"liga":"R-INGE","local":"Chelsea","visitante":"AFC Wimbledon","cuotaLocal":1.1,"empate":9,"cuotaVisitante":21,"cantidadDeApuestas":113,"cuotaCualquiera":1.222,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11400,"liga":"R-INGE","local":"Doncaster Rovers","visitante":"Everton","cuotaLocal":8,"empate":5,"cuotaVisitante":1.35,"cantidadDeApuestas":119,"cuotaCualquiera":1.285,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":10915,"liga":"YE-RUSC","local":"FC Sochi - 04","visitante":"CSKA Moscow","cuotaLocal":3.1,"empate":3.3,"cuotaVisitante":2.1,"cantidadDeApuestas":42,"cuotaCualquiera":1.4,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":10915,"liga":"YE-RUSC","local":"FC Akhmat Grozny","visitante":"Krylia Sovetov Samara","cuotaLocal":2.2,"empate":3.35,"cuotaVisitante":2.9,"cantidadDeApuestas":42,"cuotaCualquiera":1.363,"cuotaFavorito":1,"rate":1,"stake":0},{"hora":11130,"liga":"YE-RUSC","local":"Baltika","visitante":"Zenit St Petersburg","cuotaLocal":3.45,"empate":3.4,"cuotaVisitante":1.95,"cantidadDeApuestas":42,"cuotaCualquiera":1.363,"cuotaFavorito":1,"rate":1,"stake":0}
]

let PARTIDOS_CON_CUOTA = [
    [11330, 'Sampdoria', 'Venezia', 'Sampdoria', 1.93],
    [11330, 'Bari', 'Cittadella', 'Cittadella', 2.45],
    [11330, 'Ternana', 'Cremonese', 'Cremonese', 1.85],
    [11330, 'Catanzaro', 'Spezia', 'Spezia', 1.95],
    [11345, 'Harrogate Town', 'Blackburn Rovers', 'Blackburn Rovers', 1.615],
    [11400, 'Doncaster Rovers', 'Everton', 'Everton', 1.42],
    [11345, 'Nottingham Forest', 'Burnley', 'Nottingham Forest', 1.75],
    [11345, 'Sheffield United', 'Lincoln City', 'Sheffield United', 1.444],
    [11345, 'Chelsea', 'AFC Wimbledon', 'Chelsea', 1.222],
    [11400, 'PSV Eindhoven', 'Glasgow Rangers', 'PSV Eindhoven', 1.48],
    [11400, 'AEK Athens', 'Antwerp', 'AEK Athens', 1.666],
    [11400, 'FC Copenhagen', 'Rakow Czestochowa', 'FC Copenhagen', 1.65],
    [11415, 'Argentinos Juniors', 'San Martin de San Juan', 'Argentinos Juniors', 1.666],
    [11700, 'Defensa Y Justicia', 'Botafogo RJ', 'Botafogo RJ', 2.4],
[11630, 'San Lorenzo', 'CA Belgrano', 'San Lorenzo', 2.15],
[11700, 'Novorizontino SP', 'Ituano SP', 'Ituano SP', 3.00],
[11815, 'Union Magdalena', 'América de Cali', 'América de Cali', 2.10],
[12030, 'Rionegro Aguilas', 'Atlético Nacional', 'Atlético Nacional', 2.375],
[11839, 'New York City', 'CF Montreal', 'New York City', 1.769],
[11839, 'Atlanta United', 'FC Cincinnati', 'Atlanta United', 1.70],
[11839, 'Inter Miami CF', 'Nashville SC', 'Inter Miami CF', 1.533],
[11939, 'Minnesota United FC', 'Colorado Rapids', 'Minnesota United FC', 1.571],
[11939, 'Saint Louis FC', 'FC Dallas', 'Saint Louis FC', 1.769],
[11939, 'Chicago Fire', 'Vancouver Whitecaps FC', 'Chicago Fire', 1.85],
[11939, 'Houston Dynamo', 'Columbus Crew', 'Houston Dynamo', 1.70],
[11839, 'Charlotte FC', 'Orlando City SC', 'Orlando City SC', 2.10],
[11839, 'New England Revolution', 'New York Red Bulls', 'New York Red Bulls', 2.10],
[11839, 'Toronto FC', 'Philadelphia Union', 'Philadelphia Union', 1.727],
[11939, 'Austin FC', 'Seattle Sounders', 'Seattle Sounders', 2.15],
[12139, 'San Jose Earthquakes', 'L.A. Galaxy', 'L.A. Galaxy', 2.05],
[12139, 'Portland Timbers', 'Real Salt Lake', 'Real Salt Lake', 2.10],
[11930, 'Palmeiras SP', 'Deportivo Pereira', 'Palmeiras SP', 1.42],
[11930, 'Racing Club', 'Boca Juniors', 'Boca Juniors', 2.45],
[12200, 'Tigres UANL', 'Santos Laguna', 'Tigres UANL', 1.666],
[12000, 'Toluca', 'Monterrey', 'Monterrey', 1.93],
[12006, 'Queretaro FC', 'Atlas de Guadalajara', 'Atlas de Guadalajara', 2.15],
[12005, 'Coyotes FC', 'Club Celaya', 'Club Celaya', 1.833],
[11800, 'CD Tepatitlan de Morelos', 'Cancun FC', 'CD Tepatitlan de Morelos', 1.727],
[12205, 'Club Atletico La Paz', 'Cimarrones de Sonora', 'Club Atletico La Paz', 1.769],
]


let retorno = [

]

let index = 0

for (const partido of PARTIDOS_WPLAY) {
    let local = partido['local']

    let partido_encontrado = PARTIDOS_CON_CUOTA.find(p => p[1] === local)

    console.log({ local, partido_encontrado })

    let partido_retorno = undefined
    if (partido_encontrado) {
        if (typeof partido_encontrado[3] === 'number') {
            const cuotaFavorito = partido['cuotaCualquiera']
            partido_retorno = {
                ...partido,
                favorito: undefined,
                cuotaFavorito,
                rate: 1,
                stake: 0
            }
        } else {
            const favorito = partido_encontrado[1] === partido_encontrado[3] ? 'local' : 'visitante'
            const cuotaFavorito = partido_encontrado[4]
            partido_retorno = {
                ...partido,
                favorito,
                cuotaFavorito,
                rate: (cuotaFavorito / partido.cuotaCualquiera).toFixed(2)
            }
        }
    } else {
        partido_retorno = {
            ...partido,
            favorito: undefined,
            cuotaFavorito: 1,
            rate: 1,
            stake: 0
        }
    }
    retorno.push(partido_retorno)
}


console.log({
    PARTIDOS_WPLAY: PARTIDOS_WPLAY.length,
    PARTIDOS_CON_CUOTA: PARTIDOS_CON_CUOTA.length
})

const fs = require('fs')

let retornoString = `let PARTIDOS_OPTIMIZADOS = ${JSON.stringify(retorno)}`

fs.writeFileSync('partidos_optimizados_favoritos.txt', retornoString)

console.log('VER -> partidos_optimizados_favoritos.txt')