let PARTIDOS_WPLAY = [
        {
            "hora": 10600,
            "liga": "ALEC",
            "local": "TSG Balingen",
            "visitante": "Stuttgart",
            "cuotaLocal": 31,
            "empate": 9.5,
            "cuotaVisitante": 1.04,
            "cantidadDeApuestas": 39,
            "cuotaCualquiera": 1.142,
            "favorito": "visitante",
            "stake": 4
        },
        {
            "hora": 10600,
            "liga": "ALEC",
            "local": "FC Carl Zeiss Jena",
            "visitante": "Hertha Berlin",
            "cuotaLocal": 5.25,
            "empate": 4.2,
            "cuotaVisitante": 1.5,
            "cantidadDeApuestas": 77,
            "cuotaCualquiera": 1.25,
            "favorito": "visitante",
            "stake": 3
        },
        {
            "hora": 10200,
            "liga": "MUJ",
            "local": "Australia (F)",
            "visitante": "Francia (F)",
            "cuotaLocal": 3.5,
            "empate": 3.25,
            "cuotaVisitante": 2.15,
            "cantidadDeApuestas": 190,
            "cuotaCualquiera": 1.5,
            "favorito": "visitante",
            "stake": 4
        },
        {
            "hora": 10530,
            "liga": "MUJ",
            "local": "Inglaterra (F)",
            "visitante": "Colombia (F)",
            "cuotaLocal": 1.533,
            "empate": 3.75,
            "cuotaVisitante": 7.5,
            "cantidadDeApuestas": 188,
            "cuotaCualquiera": 1.55,
            "favorito": "visitante",
            "stake": 4
        },
        {
            "hora": 10630,
            "liga": "R-ING1",
            "local": "Arsenal",
            "visitante": "Nottingham Forest",
            "cuotaLocal": 1.181,
            "empate": 7.5,
            "cuotaVisitante": 15,
            "cantidadDeApuestas": 311,
            "cuotaCualquiera": 1.2,
            "favorito": "local",
            "stake": 5
        },
        {
            "hora": 10630,
            "liga": "R-ING2",
            "local": "Coventry",
            "visitante": "Middlesbrough",
            "cuotaLocal": 2.45,
            "empate": 3.35,
            "cuotaVisitante": 3,
            "cantidadDeApuestas": 195,
            "cuotaCualquiera": 1.4,
            "favorito": "visitante",
            "stake": 3
        },
        {
            "hora": 10500,
            "liga": "S-COR1",
            "local": "Jeonbuk Hyundai Motors",
            "visitante": "Suwon Samsung Bluewings",
            "cuotaLocal": 1.727,
            "empate": 3.65,
            "cuotaVisitante": 4.75,
            "cantidadDeApuestas": 94,
            "cuotaCualquiera": 1.4,
            "favorito": "local",
            "stake": 3
        },
        {
            "hora": 10530,
            "liga": "S-COR1",
            "local": "Gangwon FC",
            "visitante": "Ulsan Hyundai Horang-I",
            "cuotaLocal": 4.5,
            "empate": 3.65,
            "cuotaVisitante": 1.75,
            "cantidadDeApuestas": 95,
            "cuotaCualquiera": 1.363,
            "favorito": "visitante",
            "stake": 4
        },
        {
            "hora": 10600,
            "liga": "S-COR1",
            "local": "Jeju United",
            "visitante": "Suwon City FC",
            "cuotaLocal": 1.833,
            "empate": 3.7,
            "cuotaVisitante": 3.95,
            "cantidadDeApuestas": 97,
            "cuotaCualquiera": 1.3,
            "favorito": "local",
            "stake": 3
        },
        {
            "hora": 10000,
            "liga": "S-JAP1",
            "local": "Consadole Sapporo",
            "visitante": "Sagan Tosu",
            "cuotaLocal": 1.727,
            "empate": 4,
            "cuotaVisitante": 4.2,
            "cantidadDeApuestas": 99,
            "cuotaCualquiera": 1.25,
            "favorito": "local",
            "stake": 2
        },
        {
            "hora": 10400,
            "liga": "S-JAP1",
            "local": "Albirex Niigata",
            "visitante": "Shonan Bellmare",
            "cuotaLocal": 2.05,
            "empate": 3.4,
            "cuotaVisitante": 3.45,
            "cantidadDeApuestas": 97,
            "cuotaCualquiera": 1.38,
            "favorito": "local",
            "stake": 1
        },
        {
            "hora": 10500,
            "liga": "S-JAP1",
            "local": "Kawasaki Frontale",
            "visitante": "Vissel Kobe",
            "cuotaLocal": 2.15,
            "empate": 3.35,
            "cuotaVisitante": 3.3,
            "cantidadDeApuestas": 97,
            "cuotaCualquiera": 1.363,
            "favorito": "visitante",
            "stake": 3
        },
        {
            "hora": 10500,
            "liga": "S-JAP1",
            "local": "FC Tokyo",
            "visitante": "Kyoto Sanga",
            "cuotaLocal": 2.05,
            "empate": 3.35,
            "cuotaVisitante": 3.6,
            "cantidadDeApuestas": 97,
            "cuotaCualquiera": 1.42,
            "favorito": "local",
            "stake": 4
        },
        {
            "hora": 10500,
            "liga": "S-JAP1",
            "local": "Kashiwa Reysol",
            "visitante": "Cerezo Osaka",
            "cuotaLocal": 2.55,
            "empate": 3.2,
            "cuotaVisitante": 2.7,
            "cantidadDeApuestas": 97,
            "cuotaCualquiera": 1.42,
            "favorito": "visitante",
            "stake": 3
        },
        {
            "hora": 10500,
            "liga": "S-JAP1",
            "local": "Avispa Fukuoka",
            "visitante": "Yokohama FC",
            "cuotaLocal": 1.85,
            "empate": 3.35,
            "cuotaVisitante": 4.333,
            "cantidadDeApuestas": 96,
            "cuotaCualquiera": 1.45,
            "favorito": "local",
            "stake": 4
        },
        {
            "hora": 10530,
            "liga": "S-JAP1",
            "local": "Yokohama F Marinos",
            "visitante": "Gamba Osaka",
            "cuotaLocal": 1.7,
            "empate": 4.2,
            "cuotaVisitante": 4.2,
            "cantidadDeApuestas": 99,
            "cuotaCualquiera": 1.222,
            "favorito": "local",
            "stake": 4
        },
        {
            "hora": 10500,
            "liga": "YE-POR2",
            "local": "Pacos Ferreira",
            "visitante": "Uniao Leiria",
            "cuotaLocal": 1.9,
            "empate": 3.55,
            "cuotaVisitante": 3.6,
            "cantidadDeApuestas": 76,
            "cuotaCualquiera": 1.35,
            "favorito": "local",
            "stake": 3
        },
        {
            "hora": 10700,
            "liga": "YE-RUS1",
            "local": "Lokomotiv Moscow",
            "visitante": "Krylia Sovetov Samara",
            "cuotaLocal": 2.05,
            "empate": 3.6,
            "cuotaVisitante": 3.1,
            "cantidadDeApuestas": 83,
            "cuotaCualquiera": 1.3,
            "favorito": "local",
            "stake": 3
        },
        {
            "hora": 10700,
            "liga": "YE-UCR1",
            "local": "Chernomorets Odessa",
            "visitante": "Obolon Brovar Kiev",
            "cuotaLocal": 1.95,
            "empate": 3.3,
            "cuotaVisitante": 3.55,
            "cantidadDeApuestas": 42,
            "cuotaCualquiera": 1.48,
            "favorito": "local",
            "stake": 3
        }
    ]

let PARTIDOS_CON_CUOTA = [
    [10600, 'FC Carl Zeiss Jena', 'Hertha Berlin', 'Hertha Berlin', 1.533],
    [10600, 'TSG Balingen', 'Stuttgart', 1.142],
    [10200, 'Australia (F)', 'Francia (F)', 'Francia (F)', 2.10],
    [10530, 'Inglaterra (F)', 'Colombia (F)', 'Colombia (F)', 3.95],
    [10630, 'Arsenal', 'Nottingham Forest', 'Arsenal', 1.333],
    [10630, 'Coventry', 'Middlesbrough', 'Middlesbrough', 2.20],
    [10500, 'Jeonbuk Hyundai Motors', 'Suwon Samsung Bluewings', 'Jeonbuk Hyundai Motors', 1.70],
    [10530, 'Gangwon FC', 'Ulsan Hyundai Horang-I', 'Ulsan Hyundai Horang-I', 1.65],
    [10600, 'Jeju United', 'Suwon City FC', 'Jeju United', 1.60],
    [10000, 'Consadole Sapporo', 'Sagan Tosu', 'Consadole Sapporo', 1.50],
    [10400, 'Albirex Niigata', 'Shonan Bellmare', 'Albirex Niigata', 1.769],
    [10500, 'Kawasaki Frontale', 'Vissel Kobe', 'Vissel Kobe', 2.15],
    [10500, 'FC Tokyo', 'Kyoto Sanga', 'FC Tokyo', 1.80],
    [10500, 'Kashiwa Reysol', 'Cerezo Osaka', 'Cerezo Osaka', 2.05],
    [10500, 'Avispa Fukuoka', 'Yokohama FC', 'Avispa Fukuoka', 1.80],
    [10530, 'Yokohama F Marinos', 'Gamba Osaka', 'Yokohama F Marinos', 1.45],
    [10500, 'Pacos Ferreira', 'Uniao Leiria', 'Pacos Ferreira', 1.80],
    [10700, 'Lokomotiv Moscow', 'Krylia Sovetov Samara', 'Lokomotiv Moscow', 1.727],
    [10700, 'Chernomorets Odessa', 'Obolon Brovar Kiev', 1.48],
]


let retorno = []

let index = 0

for (const partido of PARTIDOS_WPLAY) {
    let local = partido['local']

    let partido_encontrado = PARTIDOS_CON_CUOTA.find(p => p[1] === local)

    console.log({ local, partido_encontrado })

    if (partido_encontrado) {
        let partido_retorno = undefined
        if (typeof partido_encontrado[3] === 'number') {
            const cuotaFavorito = partido['cuotaCualquiera']
            partido_retorno = {...partido, cuotaFavorito}
        } else {
            const favorito = partido_encontrado[1] === partido_encontrado[3] ? 'local': 'visitante'
            const cuotaFavorito = partido_encontrado[4]
            partido_retorno = {
                ...partido,
                favorito,
                cuotaFavorito
            }
        }
        retorno.push(partido_retorno)
    }
}


console.log({
    PARTIDOS_WPLAY: PARTIDOS_WPLAY.length,
    PARTIDOS_CON_CUOTA: PARTIDOS_CON_CUOTA.length
})

const fs = require('fs')

let retornoString = `
    let PARTIDOS_OPTIMIZADOS = ${JSON.stringify(retorno)}
`

fs.writeFileSync('partidos_optimizados_favoritos.txt', retornoString)

console.log('VER -> partidos_optimizados_favoritos.txt')